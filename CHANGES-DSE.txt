
 * Initialize overlapIterator to prevent NullPointerException when performing aggressive sstable expiration (DB-2472)


DSE 6.0.1:
 * Fix nodesync tool SSL option parsing in the absence of a nodesync-ssl.properties file (DB-2034)
 * Fix binding JMX to any address (DB-2081)
 * Fix startup error message rejecting COMPACT STORAGE after upgrade (DB-1916)
 * Avoid copy-on-heap when flushing. (DB-1943)
 * Send a final error message when a cont. paging session is cancelled (DB-1798)
 * Prevent OOM due to OutboundTcpConnection backlog by dropping request messages once the queue becomes too large (DB-2001)
 * Fix exception in trace log messages of non-frozen user types (DB-2005)
 * Use the indexed item type as backing table key validator of 2i on collections (DB-1121)
 * Apply view batchlog mutation parallel with local view mutations (DB-1900)
 * Improve user warnings on startup when libaio package is not installed (DB-1917)
 * Use same IO queue depth as Linux scheduler and advise against overriding it (DB-1909)
Merged from dse5.1:
 * Limit max cached direct buffer on NIO to 1MB (DB-2028)
 * Set MX4J_ADDRESS to 127.0.0.1 if not explicitly set (DB-1950)
 * Reusing table ID with CREATE TABLE causes failure on restart (DB-2032)
 * Ignore empty Counter cells on digest calculation (DB-1881)
 * Add getConcurrentCompactors to JMX in order to avoid loading DatabaseDescriptor to check its value in nodetool (DB-1730)


DSE 6.0.0:
 * Thread-Per-Core rearchitecture (DB-28)
 * NodeSync (Continuous background repair) (DB-6)
 * Byte-ordered types and trie-based indices (DB-111)
 * System keyspace filtering (DB-404)
 * Separation of duties (DB-757)
 * Warn when the 'cassandra' superuser logs in (DB-104)
 * Allow to grant/revoke multiple permissions in one statement (DB-792)
 * Emit client warning when a GRANT/REVOKE/RESTRICT/UNRESTRICT has no effect (DB-1083)
 * Protect against BigDecimals with large scale (DB-1848)
 * Require Java 8u151 (DB-1882)
 * Authentication & Authorization improvements (DB-909)
 * Improve message when mixing mutually exclusive deprecated and non-deprecated YAML properties (DB-1719)
 * Allow UDFs within GROUP BY clause (DB-672)
 * Allow to aggregate by time intervals (DB-75)
 * Abort repair when there is only one node (DB-1511)
 * Make incremental repair opt-in (DB-1126)
 * Expose ports (storage, native protocol, JMX) in system local and peers tables (DB-1040)
 * Add DSE columns to system tables (DB-716)
 * Add result set metadata to prepared statement MD5 hash calculation (DB-608)
 * Change protocol to allow sending key space independent of query string (DB-600)
 * For TWCS, flush to separate sstables based on write time (DB-42)
 * Added batchlog_endpoint_strategy config to improve batchlog endpoint selection (DB-1367)
 * Batchlog replays should leverage remote coordinators (DB-1337)
 * Rename artifacts to "db‚Äù (DB-1201)
 * Introduce new STARTUP message parameters to identify clients (DB-1054)
 * Bump default client protocol version from V4 to DSE_V1 (DB-553)
Merged from dse5.1:
 * Upgrade netty to 4.0.54 same as BDP; Avoid log spam for unclean client shutdown (DB-1834)
 * Improve replace fail messages when a replace is retried before QUARANTINE_DELAY (DB-1776)
 * Add support again for "" as selectable to select SuperColumns (DB-1599)
 * Read connection ssl option from cqlshrc (DB-1800)
 * Fix SASI AND/OR semantics for StandardAnalyzer (DB-548)
 * Remove invalid path from compaction-stress script, populate data base on initial size (DB-1652)
 * Fix infinite loop when replaying a truncated commit log file and truncation is tolerated (DB-1557)
 * Switch RMIExporter to dynamic proxy (DB-1591)
 * Do not fetch columns that are not in the filter fetched set (DB-1444)
 * Allow selecting static column only when querying static index (DB-1467)
 * Require only MODIFY permission on base when updating table with MV (DB-1089)
 * Force sstableloader exit to prevent hanging due to non-daemon threads running (DB-1560)
 * Add autoclosable to CompressionMetadata and fix leaks in SSTableMetadataViewer (DB-1529)
 * Use all columns to calculate estimatedRowSize for aggregation internal query (DB-1336)
 * Allow DiskBoundaryManager to cache different Directories (DB-1454)
 * Do not apply read timeouts to aggregated queries and use a minimum internal page size (DB-1381)
 * Handle cont paging state for empty partitions with static rows (DB-1352)
 * Add invalid-sstable-root JVM argument to all relevant test entries in build.xml (DB-1133)
 * Ensure that the list and set selectors elements are all of the same type (DB-905)
 * Always define execution_profiles in cqlsh.py (DB-1150)
 * Fix stress-tool not outputting row/s (DB-1123)
 * Make o.a.c.metrics extend org.codahale.metrics to fix Metrics Reporter (DB-811)
 * Make sure to handle range queries while filtering (DB-546)
 * Allow mapping a single column to multiple SASI indexes (DB-521)
 * Properly evict pstmts from prepared statements cache (DB-818)
 * Add `nodetool sequence` batch functionality (DB-651)
 * null assertion in MemtablePostFlush (DB-708)
 * Show correct protocol version in cqlsh (DB-616)
 * Update to logback-1.2.3 and redefine default rotation policy (DB-643)
 * Guard mapped memory accesses with an assertion instead of segfaulting JVM (DB-586)
 * Backport follow-up commit to CASSANDRA-12929
 * Fix version check to enable streaming keep-alive (backport CASSANDRA-12929)
 * Only perform drop below RF check on decommission for non-partitioned keyspaces (DB-589)
 * Fix SmallInt and TinyInt serialization (DB-542)
 * Check for null/empty password before calling legacyAuthenticate from CassandraLoginModule (DB-412)
 * Allow registering user expression on SelectStatement (DB-491)
 * Apply request timeout in cqlsh COPY correctly, after upgrading to execution profiles (DB-411)
 * Update java driver to DSE driver version 1.2.0-eap5-SNAPSHOT (DB-357)
 * Fix AssertionError in Continuous Paging Request on select count(*) query (DB-387)
 * Update internal DSE driver and fix formatting for Duration type (DB-417)
 * Replace open source Python driver with Datastax Enterprise driver (DB-349)
 * Fix OutOfSpaceTest broken by DB-227 (DB-350)
 * Allow to add IndexRestrictions to SelectStatement in an immutable way (DB-323)
 * Allow grammar extensions to be added to cqlsh for tab completion (DB-295)
 * Improve compaction performance (DB-123)
 * Add client warning to SASI index (DB-93)
 * Cqlsh copy-from: add support for UNSET values (DB-4)
 * Improve error message for incompatible authn/authz config (DB-226)
 * Continuous paging (DB-3, DB-267, DB-277, DB-291, DB-312, DB-316, DB-432, DB-438, DB-517)
 * Added show-queries, query-log-file and no-progress log options to cassandra-stress (DB-41)
 * Allow large partition generation in cassandra-stress user mode (DB-35)
 * Optimize VIntCoding and BufferedDataOutputStreamPlus (DB-49)
 * Improve metrics and reduce overhead under contention (DB-81)
 * Make SinglePartitionReadCommand::queriesMulticellType() faster (DB-117)
 * Accept internal resource name in GRANT/REVOKE statements (DB-113)
 * Improve StatementRestrictions::getPartitionKeys() execution speed (DB-115)
 * Move responsibility for qualifying ks in authz stmts to IResource (DB-76)
 * Insert default superuser role with fixed timestamp (DB-18)
 * Make Permissions extensible (DB-26)
 * Make IResource more easily extensible (DB-26)
 * Add method to IAuthenticator to login by user as well as by role (DB-70)
 * Add private protocol version (DB-2)
 * Backport CASSANDRA-13084: Avoid byte-array copy when key cache is disabled (no internal DB ticket)
 * Backport CASSANDRA-12510: Require forceful decommission if number of nodes is less than replication factor (no internal DB ticket)
 * Backport CASSANDRA-12654: Allow IN restrictions on column families with collections (no internal DB ticket)
 * Backport CASSANDRA-13028: Log message size in trace message in OutboundTcpConnection (no internal DB ticket)
 * Backport CASSANDRA-13029: Add timeUnit Days for cassandra-stress (no internal DB ticket)
 * Backport CASSANDRA-12649: Add mutation size and batch metrics (no internal DB ticket)
 * Backport CASSANDRA-12999: Add method to get size of endpoints to TokenMetadata (no internal DB ticket)
 * Backport CASSANDRA-8398: Expose time spent waiting in thread pool queue (no internal DB ticket)
 * Backport CASSANDRA-12969: Conditionally update index built status to avoid unnecessary flushes (no internal DB ticket)
 * Backport CASSANDRA-12946: cqlsh auto completion: refactor definition of compaction strategy options (no internal DB ticket)
 * Backport CASSANDRA-11935: Add support for arithmetic operators (no internal DB ticket)
Merged from dse5.0:
 * Fix error in MVs referencing a function with uppercase letters on its name (DB-1874)
 * Delay closing connection when nodes are removed to allow inflight commands to complete (DB-1721)
 * Harden txn log files against exceptions when adding records and improve log messages (DB-1732)
 * Fix materialized view schema backup as table (DB-1828)
 * Init timestamp with Long.MIN_VALUE instead of -1 (DB-1823)
 * Fix AssertionError in ThrottledUnfilteredIterator due to empty UnfilteredRowIterator (DB-1859)
 * Make sstableloader use cassandra.config.loader instead of hardcoded YamlConfigurationLoader (DB-1750)
 * Backport CASSANDRA-9241, fix 'nodetool toppartitions' (DB-1825)
 * Ignore lost+found directory on startup checks (DB-1215)
 * Handle output stream flush failed before closing OutboundTcpConnection (DB-1774)
 * Make PFS compatibility mode for GPFS opt-in (DB-1663)
 * Avoid NPE when providing invalid number of arguments for token function (DB-855)
 * Fetch/query no columns in priming connections to avoid errors if system.local columns are changed (DB-1708)
 * Allow skipping commit log replay does not fail on descriptor errors (DB-1650)
 * Fix connections per host in Nodetool GetStreamThroughput (DB-1602)
 * Avoid hibernate on startup for boostrap node to avoid WTE due to not being marked alive (DB-1544)
 * Make `ReservedKeywords` mutable (DB-1637)
 * Non-disruptive seed node list reload (DB-1626)
 * Fix tpc connection being reset due to dc compression and flush socket before reset (DB-1636)
 * Separate commit log replay and commit throwable inspection and policy handling (DB-673)
 * Fix for Local DC connections are compressed despite internode_compression: dc (DB-734)
 * Expanded hinted handoff instrumentation (DB-853)
 * Improve Gossip Dissemination Time (DB-996)
 * Use more intelligent level picking when we have a non-l0 file (DB-639, DB-1558)
 * LCS levels are not respected for `nodetool refresh` and replacing a node (DB-639, DB-1558)
 * Keep sstable level for decommision, remove and move operations (DB-908)
 * More quickly detect down nodes for batchlogs using the incoming connections (DB-809)
 * Fixes for waitForGossiper (DB-671)
 * Keep sstable level for decommision, remove and move operations (DB-908)
 * Print heap histogram on OOM errors by default (DB-1489)
 * Support frozen collection list and set in stress (DB-1464)
 * Improved streams logging (DB-1409)
 * Make migration-delay configurable (DB-1404)
 * Improved schema migration logging (DB-1410)
 * Register SizeEstimatesRecorder earlier and enable cleanup of invalid entries (DB-913)
 * Only serialize failed batchlog replay mutations to hints (DB-1377)
 * nodetool arguments with spaces print script errors (DB-1183)
 * Change token allocation to use RF=1 method when RF equals rack count (DB-1253)
 * Add -Dcassandra.native_transport_startup_delay_seconds to delay startup of native transport, default 0 (DB-1315)
 * New metrics for batchlog-replays (DB-1314)
 * Failed bootstrap streaming leaves auth uninitialized (DB-1274)
 * Eliminate thread roundtrip for version handshake (DB-1285)
 * Add new rebuild mode reset-no-snapshot (DB-1224)
 * Add 'nodetool abortrebuild' (DB-1234)
 * Make assassinate more resilient to missing tokens (DB-1283)
 * Add metrics on coordination of read commands (DB-637)
 * Add cross_dc_rtt_in_ms to cross dc requests, default 0 (DB-854)
 * Make scrub validate the partition key, add validation to schema mutation creation (DB-657)
 * Group multiple view updates within the same base partition to speedup view build process(DB-969)
 * Add nodetool mark_unrepaired command (DB-692)
 * Disallow incremental repair on MV/CDC tables (DB-596)
 * Revert CASSANDRA-11223 behavior in AbstractReadCommandBuilder (DB-1010)
 * Simplify role-permissions handling (DB-796)
 * fix completed rebuild logging always says 0 bytes (DB-810)
 * nodetool rebuild & bootstrap improvements (DB-581)
 * Coerce integer JSON values to timestamp as well as long values (DB-483)
 * On node failure, fail only repair tasks of that node (DB-669)
 * Fail remaining ongoing tasks when aborting a repair job (DB-669)
 * Handle missing metadata when opening a keyspace (DB-395)
 * Bounded range splitting token allocation for first RF nodes (DB-121)
 * Backport CASSANDRA-12858: Add the range limit for the split ratio in PartitionerTestCase (DB-121)
 * Partial backport of token splitting from CASSANDRA-12777: Implement the NoReplicationTokenAllocator (DB-121)
 * Log when waiting remaining repair tasks to finish (DB-103)
 * Avoid AssertionError when shutting down finished repair executor (DB-119)
 * Add allocate_tokens_for_local_replication_factor flag (DB-34)
 * Backport CASSANDRA-13080: Use new token allocation for non bootstrap case as well (DB-34)
 * Backport CASSANDRA-12990: More fixes to the TokenAllocator (DB-34)
 * cqlsh SOURCE cmd shouldn't assume PlainTextAuthenticator (DB-492)
 * Skip flush on repair streaming (DB-466)
 * Minor optimization in GPFS, and related snitches (DB-479)
 * Issue CQL native protocol warning that DTCS is deprecated (DB-327)
 * Log message when rebuild has finished (DB-465)
 * Improve repair overstreaming for multi-DCs and large RFs (DB-390)
 * Connection refused should be logged less frequently (DB-455)
 * Always log flush errors (DB-227)
 * Disable preemptive sstable opening if sstable_preemptive_open_interval_in_mb <= 0,
   and warn about high GC pressure for values below 4 (DB-386)
 * Filter out duplicate sstables when performing snapshots to avoid
   duplicate hardlink errors (DB-290)
 * Prevent duplicate SyncUtil.force() in SeqentialWriter on close (DB-351)
 * Perform repair sync sequentially to avoid overloading coordinator (DB-216)
 * Backport CASSANDRA-11503: Add repaired percentage metric (DB-88)
 * Backport CASSANDRA-10134: Always perform collision check before joining ring (DB-232)
 * Backport CASSANDRA-12461: (Add pre- and post-shutdown hooks to Storage Service) (DB-48)
 * Wait for remaining tasks to finish on RepairJob after task failure (DB-87)
 * Exponential backoff when hint delivery fails (DB-17)
Merged from DSE 4.8:
 * Protect against BigDecimals with large scale (DB-1848)
 * Protect against overflow of local expiration time (DB-1619)
 * Improve live-node-replacement (DB-1327)
 * Allow aggressive expiration of fully expired sstables without timestamp/key overlap checks (DB-902)
 * Integrate top threads command in nodetool (DB-652)

